<html>
  <head>
  <style>
#zombie_map {
    width: 100%;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    background-color: grey;
}
</style>
    <title>Vind de Zombies</title>
  </head>
  <body>
  My zombie
<div id="zombie_map">

<script>
    var zombie_map;
    var old_position;
    var all_markers = [];
    var data = `52.21769542391267 0.21518378906250746 zombie.png 
52.188658859826695 0.19595771484375746 hospital.png 
52.18255456055442 0.14445930175781996 player.png 
52.18254168354614 0.14447212671734633 weapons.png 
52.18255456055442 0.14445930175781996 zombie.png 
52.18518582679049 0.12351661376953871 zombie.png 
52.193920514214106 0.13415961914063246 weapons.png 
52.204652358264354 0.1303830688476637 zombie.png `;
    var markers = data.split("\n");
    
    function initMap() {
            zombie_map = new google.maps.Map(document.getElementById('zombie_map'), {
            zoom: 14,
            center: {lat: 52.206727, lng: 0.124450}
        });

     old_position = new google.maps.Marker({
        position: {lat: 52.206727, lng: 0.124450},
        map: zombie_map,
        });            

    for (var i = 0; i < markers.length; i++) {
            var marker_data = markers[i].trim();
            marker_data = marker_data.split(" ");
            var latitude = marker_data[0];
            var longitude = marker_data[1];
            var emoji = marker_data[2];
            var marker_position = new google.maps.LatLng(latitude, longitude);
            var marker = new google.maps.Marker({
                position: marker_position,
                map: zombie_map,
                icon: emoji
            });
            all_markers.push(marker);
        }   

if(navigator.geolocation) {
    navigator.geolocation.watchPosition(set_my_position);
}
else {
    alert("Geolocation doesn't work in your browser");
}
    function set_my_position(position) {
    old_position.setMap(null);
      var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
      var marker = new google.maps.Marker({
                position: pos,
                map: zombie_map,
                icon: emoji
            });

      old_position = marker;
    }

    }
</script>
   
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqKZ37XHCTlXCTEvfqy0cWyQ7cGqI6DaQ&callback=initMap">
 </script>
  
  </body>
</html>


- waiting for start
- app crashes a lot and is terrible slow..
- See difference betweens apps (Boston and Amsterdam)
- Time difference
- Distance per athlete: going up in a while
- Received push but distance says 20km 
- Loading in once new updates
- Did not receive gps data from the app

